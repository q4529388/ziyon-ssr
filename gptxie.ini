# Clash 配置文件基础信息
port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:1053
  enhanced-mode: fake-ip
  nameserver:
    - 114.114.114.114 # 国内 DNS
    - 8.8.8.8         # 国外 DNS
    - 8.8.4.4

# 节点配置
proxies:
  - { name: "🇭🇰 香港节点1", type: ss, server: hk1.example.com, port: 443, cipher: aes-128-gcm, password: password1 }
  - { name: "🇭🇰 香港节点2", type: ss, server: hk2.example.com, port: 443, cipher: aes-128-gcm, password: password2 }
  - { name: "🇹🇼 台湾节点1", type: ss, server: tw1.example.com, port: 443, cipher: aes-128-gcm, password: password1 }
  - { name: "🇯🇵 日本节点1", type: ss, server: jp1.example.com, port: 443, cipher: aes-128-gcm, password: password1 }
  - { name: "🇺🇸 美国节点1", type: ss, server: us1.example.com, port: 443, cipher: aes-128-gcm, password: password1 }
  - { name: "🇰🇷 韩国节点1", type: ss, server: kr1.example.com, port: 443, cipher: aes-128-gcm, password: password1 }

proxy-groups:
  - name: "🚀 节点选择"
    type: select
    proxies:
      - "♻️ 自动选择"
      - "🇭🇰 香港节点"
      - "🇹🇼 台湾节点"
      - "🇯🇵 日本节点"
      - "🇺🇸 美国节点"
      - "🇰🇷 韩国节点"
      - DIRECT

  - name: "♻️ 自动选择"
    type: url-test
    proxies:
      - "🇭🇰 香港节点1"
      - "🇭🇰 香港节点2"
      - "🇹🇼 台湾节点1"
      - "🇯🇵 日本节点1"
      - "🇺🇸 美国节点1"
      - "🇰🇷 韩国节点1"
    url: http://www.google.com/generate_204
    interval: 300

  - name: "🇭🇰 香港节点"
    type: load-balance
    proxies:
      - "🇭🇰 香港节点1"
      - "🇭🇰 香港节点2"
    strategy: round-robin

  - name: "🇹🇼 台湾节点"
    type: load-balance
    proxies:
      - "🇹🇼 台湾节点1"
    strategy: round-robin

  - name: "🇯🇵 日本节点"
    type: load-balance
    proxies:
      - "🇯🇵 日本节点1"
    strategy: round-robin

  - name: "🇺🇸 美国节点"
    type: load-balance
    proxies:
      - "🇺🇸 美国节点1"
    strategy: round-robin

  - name: "🇰🇷 韩国节点"
    type: load-balance
    proxies:
      - "🇰🇷 韩国节点1"
    strategy: round-robin

  - name: "🛑 广告拦截"
    type: select
    proxies:
      - REJECT
      - DIRECT

rules:
  # 国内流量直连
  - DOMAIN-SUFFIX,cn,DIRECT
  - GEOIP,CN,DIRECT

  # 广告拦截
  - DOMAIN-KEYWORD,adsmogo,REJECT
  - DOMAIN-KEYWORD,adsage,REJECT
  - DOMAIN-SUFFIX,googlesyndication.com,REJECT
  - DOMAIN-SUFFIX,googletagmanager.com,REJECT
  - DOMAIN-KEYWORD,admob,REJECT

  # 特定服务分流
  - DOMAIN-SUFFIX,youtube.com,🚀 节点选择
  - DOMAIN-SUFFIX,facebook.com,🚀 节点选择
  - DOMAIN-SUFFIX,twitter.com,🚀 节点选择
  - DOMAIN-SUFFIX,netflix.com,🚀 节点选择
  - DOMAIN-SUFFIX,spotify.com,🚀 节点选择

  # 默认规则
  - MATCH,DIRECT
